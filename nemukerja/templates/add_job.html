{% extends "base.html" %}

{% block title %}Add Job - NemuKerja{% endblock %}

{% block content %}
<div class="wrap">
    <div class="img" style="background-color: #e9ecef; height: 150px; display: flex; justify-content: center; align-items: center;">
        <img src="{{ url_for('static', filename='images/banner.png') }}" style="width: 550px; height: 150px;">
    </div>
    
    <h2><span data-i18n="add_job_title">Add New Job</span></h2>
    
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ 'danger' if category == 'error' else category }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="POST" action="{{ url_for('add_job') }}">
        {{ form.hidden_tag() }}
        
        <div class="form-group mt-3">
            <label class="form-label fw-bold"><span data-i18n="job_title_label">Job Title</span></label>
            <small class="text-muted d-block mb-2"><span data-i18n="job_title_help">Enter a clear and descriptive job title</span></small>
            {{ form.title(class="form-control", placeholder="e.g., Senior Web Developer, Marketing Manager", id="title") }}
            {% if form.title.errors %}
                <div class="text-danger mt-1">
                    {% for error in form.title.errors %}
                        <small>{{ error }}</small>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        
        <div class="form-group mt-3">
            <label class="form-label fw-bold"><span data-i18n="location_label">Location</span></label>
            <small class="text-muted d-block mb-2"><span data-i18n="location_help">Where is this job located?</span></small>
            {{ form.location(class="form-control", placeholder="e.g., Jakarta, Remote, Bandung", id="location") }}
            {% if form.location.errors %}
                <div class="text-danger mt-1">
                    {% for error in form.location.errors %}
                        <small>{{ error }}</small>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        
        <div class="form-group mt-3">
            <label class="form-label fw-bold"><span data-i18n="slots_label">Available Slots</span></label>
            <small class="text-muted d-block mb-2"><span data-i18n="slots_help">How many positions are open?</span></small>
            {{ form.slots(class="form-control", placeholder="e.g., 5") }}
            {% if form.slots.errors %}
                <div class="text-danger mt-1">
                    {% for error in form.slots.errors %}
                        <small>{{ error }}</small>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        
        <div class="form-group mt-3">
            <label class="form-label fw-bold"><span data-i18n="description_label">Job Description</span></label>
            <small class="text-muted d-block mb-2"><span data-i18n="description_help">Describe the responsibilities and daily tasks</span></small>
            {{ form.description(class="form-control", rows="6", placeholder="Describe the job responsibilities, requirements, qualifications, and any benefits...", id="description") }}
            {% if form.description.errors %}
                <div class="text-danger mt-1">
                    {% for error in form.description.errors %}
                        <small>{{ error }}</small>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        
        <div class="form-group mt-3">
            <label class="form-label fw-bold"><span data-i18n="qualifications_label">Qualifications</span></label>
            <small class="text-muted d-block mb-2"><span data-i18n="qualifications_help">List the required skills and qualifications for the candidate</span></small>
            {{ form.qualifications(class="form-control", rows="4", placeholder="e.g., Bachelor's degree, 3+ years experience in Python...") }}
            {% if form.qualifications.errors %}
                <div class="text-danger mt-1">
                    {% for error in form.qualifications.errors %}
                        <small>{{ error }}</small>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        
        <div class="form-group mt-4">
            {{ form.submit(class="btn btn-primary form-control", **{'data-i18n': 'submit_button'}) }}
        </div>
        
        <div class="mt-3 text-center">
            <a href="{{ url_for('dashboard') }}" class="btn btn-secondary"><span data-i18n="back_to_dashboard">Back to Dashboard</span></a>
        </div>
    </form>
</div>
{% endblock %}